<div class="colorlib-narrow-content">
  <div class="row">
    <div class="col-md-12 animate-box" data-animate-effect="fadeInLeft">
      <span class="heading-meta">Nuevo Gavion</span>
      <h2 class="colorlib-heading">Registrar Gavion</h2>
    </div>
  </div>
  <div class="row">
    <div class="col-md-10 offset-md-1 animate-box" data-animate-effect="fadeInLeft">
      <form [formGroup]="gavionGroup">
        <div class="form-group">
          <label for="tipoGavion">Tipo de Gavion</label>
          <select (change)="onTipoGavion()"
                  [class.is-invalid]="gavionState.error !== null && gavionState.error.errors.tipoGavion !== undefined"
                  class="form-control" formControlName="tipoGavion" id="tipoGavion"
                  name="tipoGavion">
            <option [selected]="true">Seleccione el tipo de Gavion</option>
            <option value="gavion">Gavion</option>
            <option value="colchoneta">Colchoneta</option>
          </select>
          <p *ngIf="gavionState.error !== null" class="text-danger">
            <small>{{ gavionState.error.errors?.tipoGavion }}</small>
          </p>
        </div>
        <!--
                <div class="form-group">
                  <label for="celda">Celda</label>
                  <input class="custom-range" formControlName="celda" id="celda" max="22" min="1" name="celda" step="0.5"
                         type="range">
                  <p class="text-right"><strong>{{ gavionGroup.get('celda').value ? gavionGroup.get('celda').value : 0 }}</strong> cm.</p>
                </div>

                <div class="form-group">
                  <label for="alambre">Alambre</label>
                  <input class="custom-range" formControlName="alambre" id="alambre" max="25" min="5" name="alambre"
                         type="range">
                  <p class="text-right"><strong>{{ gavionGroup.get('alambre').value ? gavionGroup.get('alambre').value : 0 }}</strong></p>
                </div>
        -->
        <div class="row">
          <div class="col-md-4 form-group">
            <label for="alto">Alto</label>
            <input class="form-control"
                   [class.is-invalid]="gavionState.error !== null && gavionState.error.errors.alto !== undefined"
                   formControlName="alto" id="alto" min="0" name="alto" step="0.1" type="number">
            <p *ngIf="gavionState.error !== null" class="text-danger">
              <small>{{ gavionState.error.errors?.alto }}</small>
            </p>
          </div>

          <div class="col-md-4 form-group">
            <label for="largo">Largo</label>
            <input class="form-control"
                   [class.is-invalid]="gavionState.error !== null && gavionState.error.errors.largo !== undefined"
                   formControlName="largo" id="largo" min="0" name="largo" step="0.1"
                   type="number">
            <p *ngIf="gavionState.error !== null" class="text-danger">
              <small>{{ gavionState.error.errors?.largo }}</small>
            </p>
          </div>

          <div class="col-md-4 form-group">
            <label for="ancho">Ancho</label>
            <input class="form-control"
                   [class.is-invalid]="gavionState.error !== null && gavionState.error.errors.ancho !== undefined"
                   formControlName="ancho" id="ancho" min="0" name="ancho" step="0.1"
                   type="number">
            <p *ngIf="gavionState.error !== null" class="text-danger">
              <small>{{ gavionState.error.errors?.ancho }}</small>
            </p>
          </div>
        </div>
        <div *ngIf="gavionGroup.get('tipoGavion').value === 'colchoneta'" class="form-group">
          <label for="numeroDiafragma">Cantidad de Diafragmas</label>
          <input class="form-control"
                 [class.is-invalid]="gavionState.error !== null && gavionState.error.errors.numeroDiafragma !== undefined"
                 formControlName="numeroDiafragma" id="numeroDiafragma" min="0"
                 name="numeroDiafragma" step="0.1" type="number">
          <p *ngIf="gavionState.error !== null" class="text-danger">
            <small>{{ gavionState.error.errors?.numeroDiafragma }}</small>
          </p>
        </div>

        <div class="form-group">
          <label for="precio">Precio</label>
          <input class="form-control"
                 [class.is-invalid]="gavionState.error !== null && gavionState.error.errors.precio !== undefined"
                 formControlName="precio" id="precio" min="0" name="precio" step="0.1"
                 type="number">
          <p *ngIf="gavionState.error !== null" class="text-danger">
            <small>{{ gavionState.error.errors?.precio }}</small>
          </p>
        </div>

        <hr>
        <h4 class="text-info"><strong>CAMPOS OPCIONALES</strong></h4>

        <div class="form-group">
          <label for="foto">Foto</label>
          <div class="custom-file">
            <input (change)="uploadfile($event)"
                   accept="image/*"
                   class="custom-file-input"
                   id="foto"
                   lang="es" name="foto" type="file">
            <label #labelFoto class="form-control custom-file-label" data-browse="Elegir" for="foto">Seleccionar
              Archivo</label>
          </div>
        </div>

        <div class="form-group">
          <label for="descripcion">Descripci√≥n</label>
          <textarea class="form-control" cols="30" formControlName="descripcion" id="descripcion" name="descripcion"
                    rows="10"></textarea>
        </div>

        <div class="form-group text-right">
          <button (click)="onStore()" [disabled]="gavionGroup.invalid" class="btn btn-primary btn-lg">REGISTRAR</button>
          <button (click)="onCancel()" class="btn btn-default btn-lg">CANCELAR</button>
        </div>

      </form>
    </div>
  </div>
</div>
<ngx-spinner>
  <p class="text-white-50 text-center">
    {{ gavionState.message }}
  </p>
</ngx-spinner>


