<div *ngIf="alambreState.location !== 'create'" class="colorlib-narrow-content">
  <div class="row">
    <div class="col-md-12 animate-box" data-animate-effect="fadeInLeft">
      <span class="heading-meta">Nueva Adquisición de Alambres</span>
      <h2 class="colorlib-heading">Registrar Adquisición

      </h2>
    </div>
  </div>
  <div class="row">
    <div class="col-md-10 offset-md-1 animate-box" data-animate-effect="fadeInLeft">
      <form [formGroup]="adquisicionAlambreGroup">
        <div class="form-group">
          <label for="fecha">Fecha de Adquisición</label>
          <input class="form-control" formControlName="fecha" id="fecha" type="date">
        </div>

        <div *ngIf="alambreState !== null" class="form-group">
          <label for="alambre_id">Seleccione un Alambre</label>
          <div class="row">
            <div [class.col-sm-9]="adquisicionAlambreGroup.value.alambre_id === null"
                 [class.col-12]="adquisicionAlambreGroup.value.alambre_id !== null">
              <ng-select [items]="alambreState.alambres"
                         bindLabel="tipo_awg"
                         bindValue="id"
                         class="form-control"
                         formControlName="alambre_id"
                         id="alambre_id"></ng-select>
            </div>
            <div class="col-sm-3 mt-3 mt-md-0" *ngIf="adquisicionAlambreGroup.value.alambre_id === null">
              <button [disabled]="adquisicionAlambreGroup.value.alambre_id !== null"
                      (click)="onCreateAlambre()"
                      tooltip="Registrar Nuevo Alambre"
                      class="btn btn-primary btn-lg btn-block">
                <fa-icon [icon]="faPlus"></fa-icon>
              </button>
            </div>
          </div>
        </div>

        <div class="form-group">
          <label for="cantidad">Cantidad</label>
          <input class="form-control" formControlName="cantidad" id="cantidad" min="1" name="cantidad" step="1" type="number">
        </div>

        <div class="form-group text-right">
          <button (click)="onStore()" [disabled]="adquisicionAlambreGroup.invalid" class="btn btn-primary btn-lg">
            REGISTRAR
          </button>
          <button (click)="onCancel()" class="btn btn-default btn-lg">CANCELAR</button>
        </div>

      </form>
    </div>
  </div>
</div>

<app-alambre-create [alambreState]="alambreState" *ngIf="alambreState.location === 'create'"></app-alambre-create>

<ngx-spinner>
  <p class="text-white-50 text-center">
    {{ adquisicionAlambreState.message }}
  </p>
</ngx-spinner>
